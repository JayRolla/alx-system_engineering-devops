#!/usr/bin/env bash
# This script generates an RSA SSH key pair and saves the public key to a file.

# Set the file name for the public key
public_key_file="0-RSA_public_key.pub"

# Generate the SSH key pair with no passphrase (-N "")
ssh-keygen -t rsa -b 4096 -f "$HOME/.ssh/id_rsa" -N ""

# Ensure the .ssh directory exists and set the correct permissions
mkdir -p "$HOME/.ssh"
chmod 700 "$HOME/.ssh"

# Output the public key to the specified file
cat "$HOME/.ssh/id_rsa.pub" > "$public_key_file"

# Adding a newline to the end of the public key file to comply with requirements
echo "" >> "$public_key_file"
